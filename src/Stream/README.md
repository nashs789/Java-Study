# **Java - Stream API**

## ğŸ“Œ Stream ì´ë€?
ê¸°ì¡´ì— ì¡´ì¬í•˜ë˜ Collection ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒê°í•´ë³´ë©´(Collection ë§Œ í•´ë‹¹í•˜ëŠ”ê±´ ì•„ë‹˜) Collection ê°ì²´ ë§ˆë‹¤
ë°ì´í„°ë¥¼ ë‹¤ë£° ìˆ˜ ìˆëŠ” ë°©ì‹ì´ ì „ë¶€ ë‹¬ëë‹¤.

```java
List -> Collection.sort()
Array -> Arrays.sort()
```

ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ìœ„í•´ì„œ Stream ì€ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì¶”ìƒí™” í•˜ì—¬ ë‹¤ë£¨ë„ë¡ í•˜ì˜€ê³ , ì¶”ê°€ë¡œ ê°€ë…ì„±ì„ ë†’ì´ê³ , ë³‘ë ¬ì ìœ¼ë¡œ ì²˜ë¦¬í•´ ì„±ëŠ¥ í–¥ìƒë„
ê¸°ëŒ€í•  ìˆ˜ ìˆë‹¤.

****

## ğŸ“Œ íŠ¹ì§•
- <b>Stream ì€ ë°ì´í„° ì›ë³¸ì„ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤.</b>
    - read ì‘ì—…ë§Œ í•œë‹¤.
- <b>Iterator ì™€ ê°™ì´ ì¼íšŒìš©ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.</b>
    - í•œ ë²ˆ ë‹«íˆë©´ ë‹¤ì‹œ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•˜ë‹¤.
- <b>ì§€ì—° ì—°ì‚°</b>
    - ìµœì¢… ì—°ì‚° ë©”ì†Œë“œê°€ í˜¸ì¶œë˜ê¸° ì „ ê¹Œì§€ëŠ” ìµœì¢… ì—°ì‚°ì´ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.
    ```
    Stream.distinct().sort().collect()
  
    ì¤‘ê°„ ì—°ì‚°ìì¸ distinct, sort ëŠ” ìµœì¢… ì—°ì‚°ì´ ìˆ˜í–‰ ë˜ì–´ì•¼ ì†Œëª¨ëœë‹¤.
    ```
- <b>ê¸°ë³¸í˜• íƒ€ì…ì˜ ìŠ¤íŠ¸ë¦¼ì„ ì œê³µí•œë‹¤.</b>
    ```
    ex) IntStream
    {1, 2, 3} ì´ë¼ëŠ” ë°ì´í„°ê°€ ìˆë‹¤ë©´ Stream<Integer> wrapper í´ë˜ìŠ¤ë¡œ boxing ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì—  
    ì˜¤í† ë°•ì‹±ìœ¼ë¡œ ì¸í•œ ë¹„íš¨ìœ¨ì„ ì¤„ì´ê¸° ìœ„í•´ì„œ IntStream ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
    
    ë˜í•œ ê¸°ë³¸ í˜•íƒ€ì…ì„ ë‹¤ë£¨ê¸° ìœ„í•œ ë©”ì†Œë“œë„ ìˆë‹¤. 
    ```

****

## ğŸ“Œ ì¥ì ê³¼ ë‹¨ì 
### âš™ï¸ ì¥ì 
- <b>ë‚´ë¶€ ë°˜ë³µìœ¼ë¡œ ì†ŒìŠ¤ì½”ë“œì˜ ê°€ë…ì„±ì„ ë†’ì¸ë‹¤.</b>
- <b>ë³‘ë ¬ ì²˜ë¦¬</b>

****

## ğŸ“Œ Stream ë§Œë“œëŠ” ë°©ë²•
### âš™ï¸ Collection
```java
default Stream<E> Stream() {
    return StreamSupport.Stream(spliterator(), false);
}
```

java ì˜ Collection ì¸í„°í˜ì´ìŠ¤ëŠ” Stream ë©”ì†Œë“œë¥¼ êµ¬í˜„í–ˆê¸° ë•Œë¬¸ì— Collection ì„ êµ¬í˜„í•œ í´ë˜ìŠ¤ë“¤ì€ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  
í”í¬ë“¤ ì‚¬ìš©í•˜ëŠ” List, HashMap ë“±ì´ ìˆë‹¤.

```java
List<String> list = Arrays.asList("Apple", "Banana", "Cat", "Dog");

Stream<String> Stream = list.Stream();
```

### âš™ Array
````java
public static <T> Stream<T> Stream(T[] array) {
    return Stream(array, 0, array.length);
}
````

T íƒ€ì…ì˜ ë°°ì—´ì— ëŒ€í•´ì„œ Stream ì„ ìƒì„±í•´ì„œ ë°˜í™˜í•´ì£¼ëŠ” í•¨ìˆ˜ê°€ Arrays ì— ì •ì˜ë˜ì–´ ìˆë‹¤.

```java
String[] strArr = new String[]{"Apple", "Banana", "Cat", "Dog"};

Stream<String> Stream = Arrays.Stream(strArr);
```

ë˜í•œ Stream ì¸í„°í˜ì´ìŠ¤ì—ì„œ êµ¬í˜„í•œ of ë©”ì†Œë“œë¥¼ í†µí•´ì„œë„ ìŠ¤íŠ¸ë¦¼ ìƒì„±ì´ ê°€ëŠ¥í•˜ë‹¤.

```java
public static<T> Stream<T> of(T... values) {
    return Arrays.Stream(values);
}
```

ì¸ìë¡œ ë°°ì—´ì„ ë°›ì•„ì„œ Arrays ì— ì •ì˜ë˜ì–´ ìˆëŠ” Stream ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì´ì™•ì´ë©´ Arrays ì— ì •ì˜ë˜ì–´ ìˆëŠ”
static ë©”ì†Œë“œë¥¼ í™œìš©í•˜ì

### âš™ Stream builder íŒ¨í„´
Stream ì—ì„œ ì œê³µí•˜ëŠ” ë©”ì†Œë“œë¡œ ë¹Œë” íŒ¨í„´ì„ ì´ìš©í•´ì„œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```java
Stream<String> Stream = Stream.<String>builder()
                              .add("Apple")
                              .add("Banana")
                              .add("Cat")
                              .add("Dog")
                              .build();
```

****

## ğŸ“Œ ë©”ì†Œë“œ í™œìš©
### âš™ï¸ range() & rangeClosed()
- range: start ë¶€í„° end ì „ ê¹Œì§€ ì—°ì†ëœ ì •ìˆ˜ë¥¼ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ìƒì„±
- rangeClosed: start ë¶€í„° end ê¹Œì§€ ì—°ì†ëœ ì •ìˆ˜ë¥¼ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ìƒì„±
````java
IntStream intStream = IntStream.range(0, 10);
IntStream intStream2 = IntStream.rangeClosed(0, 10);

intStream.forEach(System.out::print);
System.out.println();
intStream2.forEach(System.out::print);
````
```
[ Console Result ] 
range -> 0123456789
rangeClosed -> 012345678910
```

****

### âš™ï¸ Random ê°’ ìƒì„±í•˜ê¸°
Random í´ë˜ìŠ¤ë¥¼ ì´ìš©í•œ ëœë¤ ê°’ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ìŠ¤íŠ¸ë¦¼

```java
new Random().ints(10);
            .forEach(System.out::println);
```

ê²°ê³¼ë¥¼ ë³´ë©´ ìœ ì¶”í•  ìˆ˜ ìˆì„ ìˆ˜ ìˆì§€ë§Œ íƒ€ì…ì— ë”°ë¼ì„œ ìµœëŒ€ í‘œí•œ ê°€ëŠ¥í•œ ë²”ìœ„ ë§Œí¼ì˜ ëœë¤ ê°’ì´ ìƒì„±ëœë‹¤.
> ex) Integer.MIN_VALUE < int() < Integer.MAX_VALUE 

```
[ Console Result ] 
-180406979
1410508241
191464062
-703691325
1133679181
-303388979
1869194554
-1493443135
2024530124
1637150022
```

ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œëŠ”

```java
new Random().ints();
            .limit(5)
            .forEach(System.out::println);
```

ìœ„ ë°©ë²•ì´ë“  ì•„ë˜ ë°©ë²•ì´ë“  ë²”ìœ„ëŠ” ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤.

```
[ Console Result ] 
1854683030
145633655
-1232669176
1794913569
1128443685
```

****

### âš™ï¸ iterate()
ìœ„ì—ì„œ ë¬´í•œ ìŠ¤íŠ¸ë¦¼(Infinite Stream) ì„ ëœë¤ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ ë´¤ëŠ”ë° ê·¸ì™€ ë‹¤ë¥´ê²Œ ë²”ìœ„ë¥¼
ëŒë‹¤ì‹ì„ ì¡°ê±´ìœ¼ë¡œ ë„£ì–´ì„œ ê³„ì‚°ëœ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ” ë°©ë²•ë„ ìˆë‹¤.

ë§ˆì°¬ê°€ì§€ë¡œ ë²”ìœ„ë¥¼ ì§€ì •í•´ì¤˜ì•¼ ë¬´í•œ ë£¨í”„ì— ë¹ ì§€ì§€ ì•ŠëŠ”ë‹¤.

```java
IntStream.iterate(0, e -> e + 2)
         .limit(10);
         .forEach(System.out::println);
```

ì‹œë“œ(Seed) ê°’ 0 (ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°) ë¶€í„° 2ì”© ì¦ê°í•˜ëŠ” ëŒë‹¤ì‹ì„ ë„£ê³  ë§Œë“  ìŠ¤íŠ¸ë¦¼ì˜ ì¶œë ¥ ê°’ì€ ì´ë ‡ë‹¤.

```
[ Console Result ] 
0
2
4
6
8
10
12
14
16
18
```

ê²°ê³¼ë¥¼ ì‚´í´ë³´ë©´ ì´ì „ì˜ ê²°ê³¼ ê°’ì´ ë‹¤ìŒ ì—°ì‚°ì˜ Seed ê°€ ë˜ì–´ ì§„í–‰ëœë‹¤.  

iterate() ëŠ” Stream ì—ì„œë„ êµ¬í˜„ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ìœ„ì˜ ì˜ˆì œë¥¼ IntStream ì´ ì•„ë‹ˆë¼ Stream ìœ¼ë¡œ ë§Œë“ ë‹¤ë©´
ì˜ˆì™¸ê°€ ë°œìƒí•  ê²ƒì´ë‹¤.

```
cannot be converted to java.util.Stream.IntStream
```

Wrapper í´ë˜ìŠ¤ì™€ ì›ì‹œ íƒ€ì…ì„ êµ¬ë¶„ í•˜ê±°ë‚˜ ìŠ¤íŠ¸ë¦¼ì˜ ë‹¤ë¥¸ ë©”ì†Œë“œë¥¼ í†µí•´ì„œ í˜•ë³€í™˜ í•˜ì—¬ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

```java
Stream.iterate(0, e -> e + 2)
      .limit(10)
      .mapToInt(Integer::valueOf);
```

ë°˜ëŒ€ë¡œ ì›ì‹œí˜• íƒ€ì…ì¸ ê²½ìš°ì—ëŠ” Boxing ì„ í•´ì£¼ëŠ” boxed() ë©”ì†Œë“œë¥¼ í†µí•´ì„œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

```java
IntStream.iterate(0, e -> e + 2)
         .limit(10)
         .boxed();
```

ë§ˆì§€ë§‰ìœ¼ë¡œ ì£¼ì˜í•  ì ì€ ëŒë‹¤ì‹ìœ¼ë¡œ ë°›ëŠ” íŒŒë¼ë¯¸í„°ëŠ” í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¸ìë¡œ ë°›ê¸° ë•Œë¬¸ì— ëŒë‹¤ì‹ í˜¹ì€ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤
êµ¬í˜„í•´ì„œ ë„˜ê²¨ì¤˜ì•¼ í•œë‹¤.

****

### âš™ generate()
generate ë©”ì†Œë“œë„ iterate() ì™€ ê°™ì´ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¸ìë¡œ ë°›ìœ¼ë©°, Seed ê°’ì„ ê³„ì†í•´ì„œ ì—°ì‚°ì— ì‚¬ìš©í•˜ëŠ”ê²Œ
ì•„ë‹Œ ìƒˆë¡œìš´ ê°’ì„ ìƒì„±í•œë‹¤.

```java
Stream.generate(() -> 2)
      .limit(5);
      .forEach(System.out::println);
```

Seed ê°™ì€ ì¸ìëŠ” ë³´ì´ì§€ ì•Šê³ , ê²°ê³¼ë¥¼ ë³´ê²Œë˜ë©´ ê°™ì€ ê°’ë§Œ ë³´ì¸ë‹¤.

```
[ Console Result ] 
2
2
2
2
2
```

ë‹¤ë¥¸ ì˜ˆì‹œ

```java
Stream.generate(Math::random)
      .limit(5);
      .forEach(System.out::println);
```

ê¸°ë³¸ì ìœ¼ë¡œ random() ë©”ì†Œë“œì˜ ë°˜í™˜ ê°’ì€ double ì´ë‹¤.

```
[ Console Result ] 
0.9739549527150505
0.9127245704871921
0.6857475040249579
0.5376478895726601
0.3142060405874961
```

**** 

### âš™ empty()
ë¹ˆ ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±í•œë‹¤.

```java
Stream<Object> empty = Stream.empty();

System.out.println(empty.count());
```

ë¹ˆ ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±í•˜ë©°, ìŠ¤íŠ¸ë¦¼ ë‚´ì˜ ìš”ì†Œ ê°œìˆ˜ëŠ” 0ê°œì´ë‹¤.

```
[ Console Result ] 
0
```

### âš™ï¸ skip()
ë§ ê·¸ëŒ€ë¡œ ëª…ì‹œí•œ ìš”ì†Œë§Œí¼ ì‹œì‘ë¶€í„° ê±´ë„ˆ ë›°ëŠ” ë©”ì†Œë“œ

```java
IntStream intStream = IntStream.range(1, 10)
                               .skip(5);

intStream.forEach(System.out::println);
```

1 ~ 9 ê¹Œì§€ì˜ ì •ìˆ˜ë¥¼ ìƒì„± í–ˆì§€ë§Œ ì•ì—ì„œ 5ê°œì˜ ìš”ì†Œë¥¼ ìƒëµí•œ ê²°ê³¼

```
[ Console Result ] 
6
7
8
9
```


****

### âš™ï¸ limit()
ìŠ¤íŠ¸ë¦¼ì˜ ìš”ì†Œë¥¼ ì œí•œí•˜ëŠ” ë©”ì†Œë“œ

```java
IntStream intStream = IntStream.range(1, 10)
                               .limit(5);

intStream.forEach(System.out::println);
```

1 ~ 9 ê¹Œì§€ì˜ ì •ìˆ˜ë¥¼ ìƒì„± í–ˆì§€ë§Œ ì•ì—ì„œë¶€í„° 5ê°œì˜ ìš”ì†Œë§Œ ì¶œë ¥

```
[ Console Result ] 
1
2
3
4
5
```

****

### âš™ï¸ filter()
ì£¼ì–´ì§„ ì¡°ê±´ì— ì°¸ì¸ ìš”ì†Œë“¤ë§Œ ë‚¨ê¸°ëŠ” ë©”ì†Œë“œ

```java
// IntStream ì´ê¸° ë•Œë¬¸ì— IntPredicate ë¥¼ ì¸ìë¡œ ë°›ëŠ”ë‹¤.
IntStream filter(IntPredicate predicate);
```

ì¡°ê±´ì‹ìœ¼ë¡œ ì¸ìë¡œ ë°›ì•„ì„œ ìŠ¤íŠ¸ë¦¼ì— ì ìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì—°ì‚° ê²°ê³¼ê°€ boolean íƒ€ì…ì„ ë§Œì¡±í•˜ëŠ” ëŒë‹¤ì‹ìœ¼ë¡œ ì¸ìë¡œ
ë„£ì–´ë„ ë¬´ë°©í•˜ë‹¤.

````java
IntStream intStream = IntStream.range(1, 10)
                               .filter(e -> e % 2 == 0);

intStream.forEach(System.out::println);
````

ëŒë‹¤ì‹ì„ ì‚´í´ë³´ë©´ ì§ìˆ˜ë§Œ ì¶œë ¥í•˜ë„ë¡ ì¡°ê±´ì„ ë§Œë“¤ì—ˆë‹¤.

```
[ Console Result ] 
2
4
6
8
```

****

### âš™ï¸ distinct()
ë©”ì†Œë“œëª…ê³¼ ê°™ì´ ì¤‘ë³µëœ ìš”ì†Œë¥¼ ê±¸ëŸ¬ì£¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

```java
IntStream.of(1, 1, 1, 2, 2, 3, 3, 3, 3, 4, 4, 5, 6)
         .distinct()
         .forEach(System.out::println);
```

ì¤‘ë³µëœ ì •ìˆ˜ë¥¼ ì œì™¸í•œ ê²°ê³¼ë¥¼ ì¶œë ¥í•œë‹¤.

```
[ Console Result ] 
1
2
3
4
5
6
```

****

### âš™